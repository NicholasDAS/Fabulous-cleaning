{% extends "base.html" %}
{% block content %}

<h2 class="fw-bold mb-4">Customer Reviews</h2>

<!-- SUBMIT A REVIEW -->
<form method="POST" class="card p-4 shadow-sm mb-4">

    <label class="fw-bold">Your Rating</label>
    <select name="rating" class="form-select mb-3" required>
        <option value="5">⭐ 5 — Excellent</option>
        <option value="4">⭐ 4 — Good</option>
        <option value="3">⭐ 3 — Average</option>
        <option value="2">⭐ 2 — Poor</option>
        <option value="1">⭐ 1 — Terrible</option>
    </select>

    <label class="fw-bold">Your Review</label>
    <textarea name="comment" class="form-control mb-3" rows="3" required></textarea>

    <button class="btn btn-success">Submit Review</button>
</form>

<!-- DISPLAY REVIEWS -->
<h4 class="fw-bold">What Others Are Saying</h4>

{% for r in reviews %}
    <div class="card shadow-sm mb-3 p-3">
        <h5 class="fw-bold">{{ r.user.full_name }}
            <span class="text-warning">
                {% for _ in range(r.rating) %}⭐{% endfor %}
            </span>
        </h5>
        <p>{{ r.comment }}</p>
        <small class="text-muted">{{ r.created_at.strftime('%Y-%m-%d') }}</small>
    </div>
{% endfor %}

{% endblock %}
